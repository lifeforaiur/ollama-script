#!/bin/bash
set -e  # Exit on error

sudo apt update && \
sudo apt install -y pciutils nano htop nvtop && \
curl https://ollama.ai/install.sh | sh && \
mkdir -p /etc/systemd/system/ollama.service.d && \
echo '[Service]' >/etc/systemd/system/ollama.service.d/environment.conf && \
echo 'Environment="OLLAMA_HOST=0.0.0.0:11434"' >>/etc/systemd/system/ollama.service.d/environment.conf && \
echo 'Environment="OLLAMA_KEEP_ALIVE=-1"' >>/etc/systemd/system/ollama.service.d/environment.conf && \
systemctl daemon-reload && \
systemctl restart ollama && \
sleep 3 && \
ollama pull hf.co/unsloth/Qwen3-Coder-30B-A3B-Instruct-GGUF:Q4_K_M && \
ollama pull hf.co/unsloth/Qwen3-30B-A3B-Instruct-2507-GGUF:Q4_K_M && \
ollama pull hf.co/unsloth/GLM-4.5-Air-GGUF:Q4_K_M && \
ollama pull gpt-oss:120b
